import { staticData } from "@/data";
import * as Yup from "yup";
import {
  regexAddress,
  regexNationalCode,
  regexNumber,
  regexPersianCharacter,
  regexPhoneNumber,
  regexPostalCode,
} from "@/utils/regex";

// @@@___________________ Formik validationSchema ___________________@@@
const validationObject = {};
const validationSchemaObject = staticData.req_registration_form_data.forEach(
  (element) => {
    validationObject[element.name] =
      element.fa &&
      Yup.string()
        .required(`${element.fa} متقاضی الزامی است.`)
        .matches(regexPersianCharacter, "مقدار وارد شده صحیح نیست.");
  }
);

validationObject.national_file = Yup.string().required(
  "تصویر کارت ملی الزامی است."
);
validationObject.mobile_number = Yup.string()
  .matches(regexPhoneNumber, "شماره موبایل صحیح نیست.")
  .required("شماره موبایل الزامی است.");
validationObject.postal_code = Yup.string()
  .matches(regexPostalCode, "کد پستی صحیح نیست.")
  .required("کد پستی الزامی است.");

validationObject.national_code = Yup.string()
  .matches(regexNationalCode, "کد ملی صحیح نیست.")
  .required("کد ملی الزامی است.");

validationObject.birth_certificate_code = Yup.string().required(
  "شماره شناسنامه الزامی است."
);
validationObject.birth_date_year = Yup.string().required(
  "تاریخ تولد الزامی است."
);

validationObject.landline_phone_number = Yup.string().required(
  "تلفن ثابت الزامی است."
);
validationObject.workplace_number = Yup.string().required(
  "شماره تماس محل کار الزامی است."
);

validationObject.number_of_children = Yup.string().matches(
  regexNumber,
  "مقدار وارد شده صحیح نیست."
);

validationObject.residence_address = Yup.string()
  .required("آدرس محل سکونت الزامی است.")
  .max(1000, "تعداد حروف بیشتر از حد مجاز است.")
  .matches(regexAddress, "مقدار وارد شده صحیح نیست.");

validationObject.work_address = Yup.string()
  .required("آدرس محل کار الزامی است.")
  .max(1000, "تعداد حروف بیشتر از حد مجاز است.")
  .matches(regexAddress, "مقدار وارد شده صحیح نیست.");

validationObject.documented_monthly_income = Yup.string().required(
  "درآمد ماهانه مستند الزامی است."
);

validationObject.undocumented_monthly_income = Yup.string().required(
  "درآمد ماهانه غیر مستند الزامی است."
);

validationObject.amount_of_requested_facility = Yup.string().required(
  "مبلغ تسهیلات درخواستی الزامی است."
);
validationObject.repayment_period = Yup.number().required(
  "مدت بازپرداخت وام الزامی است."
);

validationObject.guarantors = Yup.array().of(
  Yup.object().shape({
    name: Yup.string().required("نام ضامن الزامی است."),
    family: Yup.string().required("نام خانوادگی ضامن الزامی است."),
    national_code: Yup.string()
      .matches(regexNationalCode, "کد ملی صحیح نیست.")
      .required("کد ملی ضامن الزامی است."),
    mobile_number: Yup.string()
      .matches(regexPhoneNumber, "شماره موبایل صحیح نیست.")
      .required("موبایل ضامن الزامی است."),
    job: Yup.string().required("شغل ضامن الزامی است."),
    birth_certificate_issuing_place: Yup.string().required(
      "محل صدور شناسنامه ضامن الزامی است."
    ),
    birth_certificate_code: Yup.string().required(
      "شماره شناسنامه ضامن الزامی است."
    ),
    birth_date_year: Yup.string().required("تاریخ تولد ضامن الزامی است."),
    landline_phone_number: Yup.string().required("تلفن ثابت ضامن الزامی است."),
    postal_code: Yup.string()
      .matches(regexPostalCode, "کد پستی صحیح نیست.")
      .required("کدپستی ضامن الزامی است."),
    father_name: Yup.string().required("نام پدر ضامن الزامی است."),
    workplace_number: Yup.string().required("شماره تماس محل کار ضامن الزامی است."),
    residence_address: Yup.string().required("آدرس کار ضامن الزامی است."),
  })
);

export const reqRegistrationValidationSchema = Yup.object(validationObject);
